# skhd config

# open apps
cmd + alt - t : open -a Terminal ~
cmd + alt - l : open -a licecap
cmd + alt - s : open -a slack
cmd + alt - b : open -na 'Google Chrome'
cmd + alt - n : code ~/code/notes

cmd + alt - 1 : open -a Terminal ~ && \
open -a slack && \
open -na 'Google Chrome'&& \
code ~/code/notes

# restarts yabai
cmd + ctrl - w : killall yabai

# --- Window Management ---
# move window
ralt + shift - a : yabai -m window --move rel:-40:0
ralt + shift - d : yabai -m window --move rel:40:0
ralt + shift - w : yabai -m window --move rel:0:-40
ralt + shift - s  : yabai -m window --move rel:0:40

# change window size
lalt + shift - a : yabai -m window --resize right:-40:0
lalt + shift - d : yabai -m window --resize right:40:0
lalt + shift - w : yabai -m window --resize bottom:0:-40
lalt + shift - s : yabai -m window --resize bottom:0:40

# focus display
ctrl + shift + rcmd - left  : yabai -m display --focus next
ctrl + shift + rcmd - right : yabai -m display --focus prev

# send window to display and follow focus
ctrl + shift + lcmd - left  : yabai -m window --display next; yabai -m display --focus next
ctrl + shift + lcmd - right : yabai -m window --display prev; yabai -m display --focus prev

# toggle space float/grid
rcmd + ralt - g : if [ "$(yabai -m query --spaces --space | jq '.type')" = "\"float\"" ]; \
then yabai -m space --layout bsp; \
else yabai -m space --layout float; fi

# (un)float specific window
rcmd + ralt - f : yabai -m window --toggle float

# TODO: unmanage currently focused window i.e. remove from grid
# use yabai -m rule --list | jq -c '.[] | select(.app | contains("System Settings <app_name>"))' 
# rcmd + ralt + shift - f : yabai -m rule --add app=`yabai -m query --windows --window | jq '.app'` manage=off

# floating windows: maximize, move to left/right pane
ctrl + alt - up : if [ $(yabai -m query --windows --window | jq '.frame.w') -le $(($(yabai -m query --displays --display | jq '.frame.w')/2)) ]; \
then yabai -m window --grid 10:10:1:1:6:6; \
else yabai -m window --grid 1:1:0:0:1:1; fi
# grid windows: swap with previous or next
ctrl + alt - left  : if [ "$(yabai -m query --windows --window | jq '."is-floating"')" = "true" ] || [ "$(yabai -m query --spaces --space | jq '.type')" = "\"float\"" ]; \
then yabai -m window --grid 1:2:0:0:1:1; \
else yabai -m window --swap prev; fi
ctrl + alt - right : if [ "$(yabai -m query --windows --window | jq '."is-floating"')" = "true" ] || [ "$(yabai -m query --spaces --space | jq '.type')" = "\"float\"" ]; \
then yabai -m window --grid 1:2:2:2:1:1; \
else yabai -m window --swap next; fi


# --- Window Management (END) ---

# Lock screen and shutdown
cmd - escape          : pmset displaysleepnow
rcmd + ctrl - escape  : shutdown -h now